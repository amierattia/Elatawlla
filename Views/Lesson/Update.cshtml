@model List<NetWork.Models.LessonParagraph>

@{
    ViewBag.Title = "Update Lesson Paragraphs";
}

<h2>@ViewBag.Title</h2>

@if (ViewBag.Message != null)
{
    <div class="alert alert-warning">
        @ViewBag.Message
    </div>
}

@if (Model != null && Model.Any())
{
    <form asp-action="Update" method="post" enctype="multipart/form-data">
        <div class="form-group">
            <label for="LessonId">Lesson ID</label>
            <input type="text" id="LessonId" name="LessonId" class="form-control" value="@Model.FirstOrDefault()?.LessonId" readonly />
        </div>

        @foreach (var paragraph in Model)
        {
            <div class="card mt-3">
                <div class="card-body">
                    <h4>Update Paragraph @paragraph.Id</h4>

                    <div class="form-group">
                        <label for="Title_@paragraph.Id">Title</label>
                        <input type="text" id="Title_@paragraph.Id" name="Title" class="form-control" value="@paragraph.Title" />
                    </div>

                    <div class="form-group">
                        <label for="Content_@paragraph.Id">Content</label>
                        <textarea id="Content_@paragraph.Id" name="Content" class="form-control">@paragraph.Content</textarea>
                    </div>

                    <div class="form-group">
                        <label for="ImagePath_@paragraph.Id">Image</label>
                        <input type="file" id="ImagePath_@paragraph.Id" name="ImagePath" class="form-control" />
                    </div>
                </div>
            </div>
        }

        <button type="submit" class="btn btn-primary mt-3">Update Paragraphs</button>
    </form>
}
else
{
    <div class="alert alert-info">
        No paragraphs available to update.
    </div>
}
